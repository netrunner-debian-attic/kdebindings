Index: b/smoke/qtuitools/CMakeLists.txt
===================================================================
--- a/smoke/qtuitools/CMakeLists.txt
+++ b/smoke/qtuitools/CMakeLists.txt
@@ -27,7 +27,7 @@
 ENDIF(CMAKE_CXX_FLAGS MATCHES "-fvisibility")
 add_library(smokeqtuitools SHARED ${smokeqtuitools_LIB_SRCS})
 
-target_link_libraries(smokeqtuitools smokeqt ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY} ${QT_QTUITOOLS_LIBRARY})
+target_link_libraries(smokeqtuitools smokeqt ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY} ${QT_QTUITOOLS_LIBRARY} ${QT_QTGUI_LIBRARY})
 
 set_target_properties(smokeqtuitools PROPERTIES VERSION 2.0.0 SOVERSION 2 )
 
Index: b/smoke/kde/CMakeLists.txt
===================================================================
--- a/smoke/kde/CMakeLists.txt
+++ b/smoke/kde/CMakeLists.txt
@@ -113,6 +113,7 @@
     ${KDE4_KNEWSTUFF2_LIBS}
     ${KDE4_KPTY_LIBS}
     ${KDE4_KUTILS_LIBS}
+    ${KDE4_KPARTS_LIBS}
     smokeqt )
 
 set_target_properties(smokekde PROPERTIES VERSION 2.0.0 SOVERSION 2 )
Index: b/python/krosspython/CMakeLists.txt
===================================================================
--- a/python/krosspython/CMakeLists.txt
+++ b/python/krosspython/CMakeLists.txt
@@ -44,7 +44,7 @@
 # -ldl seems to be needed (on Linux at least).
 # see http://lists.kde.org/?l=koffice-devel&m=116333261328694&w=2
 # and http://websvn.kde.org/branches/work/kwin_composite/CMakeLists.txt?rev=603677&r1=603384&r2=603677
-target_link_libraries(krosspython ${QT_QTCORE_LIBRARY} ${KDE4_KPTY_LIBS} ${KDE4_KROSSCORE_LIBS} ${PYTHON_LIBRARIES} ${CMAKE_DL_LIBS})
+target_link_libraries(krosspython ${QT_QTCORE_LIBRARY} ${KDE4_KPTY_LIBS} ${KDE4_KROSSCORE_LIBS} ${PYTHON_LIBRARIES} ${CMAKE_DL_LIBS} ${QT_QTGUI_LIBRARY})
 
 install(TARGETS krosspython  DESTINATION ${PLUGIN_INSTALL_DIR})
 
Index: b/ruby/krossruby/CMakeLists.txt
===================================================================
--- a/ruby/krossruby/CMakeLists.txt
+++ b/ruby/krossruby/CMakeLists.txt
@@ -11,5 +11,5 @@
    )
 
 kde4_add_plugin(krossruby ${krossruby_PART_SRCS})
-target_link_libraries(krossruby ${QT_QTCORE_LIBRARY} ${KDE4_KROSSCORE_LIBS} ${RUBY_LIBRARY})
+target_link_libraries(krossruby ${QT_QTCORE_LIBRARY} ${KDE4_KROSSCORE_LIBS} ${RUBY_LIBRARY} ${QT_QTGUI_LIBRARY})
 install(TARGETS krossruby  DESTINATION ${PLUGIN_INSTALL_DIR})
Index: b/python/pykde4/CMakeLists.txt
===================================================================
--- a/python/pykde4/CMakeLists.txt
+++ b/python/pykde4/CMakeLists.txt
@@ -70,16 +70,16 @@
 ADD_DEFINITIONS(-D_REENTRANT -DQT_NO_DEBUG -DQT_CORE_LIB -DQT_GUI_LIB)
 
 
-ADD_SIP_PYTHON_MODULE(PyKDE4.kdecore sip/kdecore/kdecoremod.sip ${KDE4_KDECORE_LIBS} ${KDE4_KPTY_LIBS})
-ADD_SIP_PYTHON_MODULE(PyKDE4.solid sip/solid/solidmod.sip ${KDE4_SOLID_LIBS})
-ADD_SIP_PYTHON_MODULE(PyKDE4.kdeui sip/kdeui/kdeuimod.sip ${KDE4_KDEUI_LIBS})
+ADD_SIP_PYTHON_MODULE(PyKDE4.kdecore sip/kdecore/kdecoremod.sip ${KDE4_KDECORE_LIBS} ${KDE4_KPTY_LIBS} ${QT_QTNETWORK_LIBRARY})
+ADD_SIP_PYTHON_MODULE(PyKDE4.solid sip/solid/solidmod.sip ${KDE4_SOLID_LIBS} ${QT_QTCORE_LIBRARY})
+ADD_SIP_PYTHON_MODULE(PyKDE4.kdeui sip/kdeui/kdeuimod.sip ${KDE4_KDEUI_LIBS} ${QT_QTXML_LIBRARY})
 ADD_SIP_PYTHON_MODULE(PyKDE4.kio sip/kio/kiomod.sip ${KDE4_KIO_LIBS} ${KDE4_KFILE_LIBS})
-ADD_SIP_PYTHON_MODULE(PyKDE4.kutils sip/kutils/kutilsmod.sip ${KDE4_KUTILS_LIBS})
+ADD_SIP_PYTHON_MODULE(PyKDE4.kutils sip/kutils/kutilsmod.sip ${KDE4_KUTILS_LIBS} ${QT_QTGUI_LIBRARY} ${QT_QTCORE_LIBRARY} ${KDE4_KDEUI_LIBS})
 ADD_SIP_PYTHON_MODULE(PyKDE4.kparts sip/kparts/kpartsmod.sip ${KDE4_KPARTS_LIBS})
-ADD_SIP_PYTHON_MODULE(PyKDE4.ktexteditor sip/ktexteditor/ktexteditormod.sip ${KDE4_KTEXTEDITOR_LIBS})
+ADD_SIP_PYTHON_MODULE(PyKDE4.ktexteditor sip/ktexteditor/ktexteditormod.sip ${KDE4_KTEXTEDITOR_LIBS} ${KDE4_KPARTS_LIBS} ${KDE4_KDEUI_LIBS} ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY})
 ADD_SIP_PYTHON_MODULE(PyKDE4.khtml sip/khtml/khtmlmod.sip ${KDE4_KHTML_LIBS})
-ADD_SIP_PYTHON_MODULE(PyKDE4.knewstuff sip/knewstuff/knewstuffmod.sip ${KDE4_KNEWSTUFF2_LIBS})
-ADD_SIP_PYTHON_MODULE(PyKDE4.dnssd sip/dnssd/dnssdmod.sip ${KDE4_KDNSSD_LIBS})
+ADD_SIP_PYTHON_MODULE(PyKDE4.knewstuff sip/knewstuff/knewstuffmod.sip ${KDE4_KNEWSTUFF2_LIBS} ${QT_QTCORE_LIBRARY})
+ADD_SIP_PYTHON_MODULE(PyKDE4.dnssd sip/dnssd/dnssdmod.sip ${KDE4_KDNSSD_LIBS} ${QT_QTCORE_LIBRARY})
 ADD_SIP_PYTHON_MODULE(PyKDE4.phonon sip/phonon/phononmod.sip ${PHONON_LIBS} ${QT_QTDBUS_LIBRARY} ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY})
 SET(PYKDE_MODULES "kdecore solid kdeui kio kutils kparts ktexteditor dnssd phonon ")
 
