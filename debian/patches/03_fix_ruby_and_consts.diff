Index: b/ruby/qtruby/src/Qt.cpp
===================================================================
--- a/ruby/qtruby/src/Qt.cpp
+++ b/ruby/qtruby/src/Qt.cpp
@@ -1169,7 +1169,7 @@
 VALUE
 qvariant_value(VALUE /*self*/, VALUE variant_value_klass, VALUE variant_value)
 {
-	char * classname = rb_class2name(variant_value_klass);
+	const char * classname = rb_class2name(variant_value_klass);
     smokeruby_object *o = value_obj_info(variant_value);
 	if (o == 0 || o->ptr == 0) {
 		return Qnil;
@@ -1286,7 +1286,7 @@
 		}
 	}
 
-	char * classname = rb_obj_classname(argv[0]);
+	const char * classname = rb_obj_classname(argv[0]);
     smokeruby_object *o = value_obj_info(argv[0]);
 	if (o == 0 || o->ptr == 0) {
 		// Assume the Qt::Variant can be created with a
@@ -1349,7 +1349,7 @@
 const char *
 get_VALUEtype(VALUE ruby_value)
 {
-	char * classname = rb_obj_classname(ruby_value);
+	const char * classname = rb_obj_classname(ruby_value);
 	const char *r = "";
 	if (ruby_value == Qnil)
 		r = "u";
